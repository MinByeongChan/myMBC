# 브라우저 동작원리

공부에 앞서, 웹 어플리케이션의 가장 기초가 되는 웹 프라우저의 동작원리에 대해 정리해보려 한다.

[네이버 helloworld 참조](https://d2.naver.com/helloworld/59361)

## 브라우저의 기능

브라우저의 주요기능은 클라이언트가 자원을 서버에 요청하고 응답을 받는다. 그렇게 함으로서 브라우저에서 정보를 열람할 수 있다.

요청할 시, `URI(Uniform Resource Identifier)`라는 `자원의 주소`를 따라서 요청하게 된다. HTML, PDF, JS파일, 이미지 등 다양한 정보를 받아올 수 있다.

## 브라우저의 기본 구조

1. 사용자의 인터페이스

- 브라우저에 직접적으로 보여지는 UI화면을 말한다. 홈페이지, 북마크 등이 있다.

2. 렌더링 엔진

- 요청받은 내용을 브라우저 화면에 표시한다.
- HTML, CSS, 이미지 등 파일을 화면에 출력한다.

3. 통신

4. UI 백엔드

5. 자바스크립트 해석기

6. 자료저장소

## 렌더링 동작 과정

렌더링 엔진은 HTTP 통신으로 전달받은 문서 및 HTML, JS, CSS 등 파일들을 보통 8KB단위로 전송한다. 기본적인 동작과정은 아래와 같다.

1. DOM 트리 구축을 위한 HTML 파싱
2. 렌더 트리 구축
3. 렌더 트리 배치
4. 렌더 트리 그리기

HTTP 통신으로 파일을 받으면 HTML문서를 파싱하고 HTML 태그들을 DOM 노드로 변환한다. CSS파이과 함께 포함된 스타일 요소도 파싱한다. 이렇게 `렌더트리`가 생성된다.

렌더트리가 생성되면 시각적 속성이 있는 컴포넌트형태로 사각형모양으로 순서대로 표시한다.

렌더트리 생성이후, `배치`하게 되는데 위에서 그린 사각형안에 어떤 컨텐츠가 정확히 들어가는지 배치하게 된다.

이후, 렌더 트리를 그리는 작업을 거친다.

위와같은 작업은 1.HTML파싱에서 모든 파일을 한번에 받고 진행되지 않는다. 첫번째 파일을 받고 바로 트리 구축하는데, 기다리지 않고 비동기적으로 동작을 분할하여 렌더링을 진행하게 된다.
